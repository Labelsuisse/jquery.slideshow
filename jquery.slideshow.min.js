/**
 * Plugin Simpe Slide Show for jquery
 * Author: Labelsuisse
 * version: 0.1.1
 * https://github.com/Labelsuisse/jquery.slideshow
 * @2014
 */

!function(a){a.fn.slideshow=function(b){function o(b){return a(document.createElement(b))}function p(a){return a.attr("id")[a.attr("id").length-1]}function q(c){var e,d=n.find("span");d.css("background",b.pointStyle.background),e=c?a("#marker-point-"+c):d.first(),e.css("background",b.markerCurrentBgColor)}function r(a){return b.resizeImage&&(g>h?a.height(h):a.width(g)),a}var g,h,j,m,n,c={markerCurrentBgColor:"rgb(3, 106, 191)",resizeImage:!1,containerStyle:{position:"relative",border:"3px solid #F2F2F2"},titleStyle:{position:"absolute",textAlign:"center",color:"#fff",background:"rgba(0, 0, 0, .3)",bottom:10,height:30,width:"100%",paddingTop:5},imageStyle:{textAlign:"center",backgroundColor:"#fff"},markerStyle:{position:"absolute",right:5,bottom:7,zIndex:10},pointStyle:{display:"inline-block",margin:"0px 1px",borderRadius:5,height:10,width:10,background:"#fff",cursor:"pointer"},btnStyle:{width:20,height:50,borderRadius:3,position:"absolute",background:"rgba(150, 150, 150, .7)",color:"#fff",cursor:"pointer",textAlign:"center",fontSize:"1.3em",zIndex:100}},d={padding:0,margin:0,listStyle:"none"},e={background:"#fff",position:"absolute",width:"100%"},f=a(this),i=f.children(),k="view-current";b=a.extend(!0,c,b),f.css(b.containerStyle),g=f.width(),h=f.height(),n=o("div").css(b.markerStyle),f.append(n),j=o("ul"),j.css(d),a.each(i,function(c,d){var f=o("li");f.css(e),f.attr("id","slide-image-"+c).css(e),j.append(f),d=a(d);var g=o("div").css(b.titleStyle).text(r(d.find("img")).attr("title")),h=o("div").css(b.imageStyle).append(d);f.append(g).append(h);var i=o("span").css(b.pointStyle).attr("id","marker-point-"+c);0==c?(i.css("background",b.markerCurrentBgColor),f.addClass(k)):f.css({display:"none"}),n.append(i)}),f.append(j),function(){var c,d=function(){var b=a(".view-current").prev(),c=f.find("ul").find("li");clearInterval(m),c.fadeOut().removeClass(k),0==b.length&&(b=c.last()),b.fadeIn().addClass(k),q(p(b))},e=function(){var b=a(".view-current").next(),c=f.find("ul").find("li");clearInterval(m),c.fadeOut().removeClass(k),0==b.length&&(b=c.first()),b.fadeIn().addClass(k),q(p(b))};for(b.btnStyle.top=(f.height()-b.btnStyle.height)/2,b.btnStyle.lineHeight=b.btnStyle.height+"px",c=0;2>c;c++){var g=o("div");0==c?(b.btnStyle.left=-10,g.text("<"),g.attr("id","slider-btn-left"),g.on("click",d)):(b.btnStyle.right=-10,g.text(">"),g.attr("id","slider-btn-right"),g.on("click",e),delete b.btnStyle.left),g.css(b.btnStyle),f.append(g)}}(),n.find("span").on("click",function(){var b=p(a(this)),c=f.find("ul").find("li"),d=a("#slide-image-"+b);c.fadeOut().removeClass(k),d.fadeIn().addClass(k),q(b),clearInterval(m)}),m=setInterval(function(){var b=f.find("li"),c=a(".view-current");b.fadeOut().removeClass(k),c=0==c.next().length?b.eq(0).fadeIn().addClass(k):c.next().fadeIn().addClass(k),console.log(c),q(p(c))},3e3)}}(window.jQuery);